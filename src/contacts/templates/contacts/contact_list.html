{% extends 'base.html' %} {% block content %}

<!-- Combined Search and Birthday Filter Form -->
<form
    class="note-search"
    role="search"
    method="GET"
    action="{% url 'contacts:contact-list' %}">

    <div role="group" class="form-group">
    <input name="query" type="search" placeholder="–®—É–∫–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∏ ({{ contacts|length }})" value="{{ request.GET.query }}"/>
    
    <input
    type="number"
    class="form-control"
    style="width: 10%;"
    name="days_ahead"
    placeholder="üéÇ"
    value="{{ request.GET.days_ahead }}"
    min="0"
    />
    <input type="submit" value="–ü–æ—à—É–∫" />
      
    </div>

</form>

<div class="contact-btn-container">
    <a role="button" href="{% url 'contacts:contact-create' %}" class="contact-add-btn">–î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç</a>
</div>

{% if request.GET.days_ahead %}
<div style="display:flex; margin-bottom: 24px; justify-self: center;">
  –ü–æ–∫–∞–∑–∞–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –∑ –¥–Ω—è–º–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ {{ request.GET.days_ahead }} –¥–Ω—ñ–≤.
</div>
{% endif %}

<table>
  <thead>
    <tr>
      <th scope="col">–Ü–º'—è</th>
      <th scope="col">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É</th>
      <th scope="col">–ê–¥—Ä–µ—Å–∞</th>
      <th scope="col">–î–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è</th>
    </tr>
  </thead>
  <tbody>
    {% for contact in contacts %}
    <tr
      onclick="window.location.href='{% url 'contacts:contact-detail' contact.pk %}'"
      style="cursor: pointer"
    >
      <td>{{ contact.first_name }} {{ contact.last_name }}</td>
      <td>{% if contact.phone %} {{ contact.phone }} {% endif %}</td>
      <td>{% if contact.address %} {{ contact.address }} {% endif %}</td>
      <td>{% if contact.birthday %} {{ contact.birthday }} {% endif %}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">–ù–µ–º–∞—î –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

 {% endblock %}

